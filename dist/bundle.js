(()=>{var e={365:e=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";e.exports=function(e,t,n){var r=Math.floor(6*e),a=6*e-r,o=n*(1-t),l=n*(1-a*t),s=n*(1-(1-a)*t),i=255,c=255,d=255;switch(r){case 0:i=n,c=s,d=o;break;case 1:i=l,c=n,d=o;break;case 2:i=o,c=n,d=s;break;case 3:i=o,c=l,d=n;break;case 4:i=s,c=o,d=n;break;case 5:i=n,c=o,d=l}return[Math.floor(255*i),Math.floor(255*c),Math.floor(255*d)]}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){return"#"+e.map((function(e){return r(e.toString(16))})).join("")}},function(e,t,n){"use strict";e.exports=function(e){return e.length>2?e:new Array(2-e.length+1).join("0")+e}},function(e,t,n){"use strict";var r=n(0),a=n(1),o=.618033988749895,l=void 0;function s(){l=Math.random()}function i(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hue,n=e.saturation,a=e.value;return void 0===t&&(l+=o,t=l%=1),"number"!=typeof n&&(n=.5),"number"!=typeof a&&(a=.95),r(t,n,a)}(e,t);return a(n)}s(),i.reSeed=s,e.exports=i}])}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";n.d(r,{t:()=>B});const e=document.getElementById("navbar"),t=document.getElementById("current-project-tasks-container"),a=document.getElementById("Tform-title-in"),o=document.getElementById("Tform-description-in"),l=document.getElementById("Tform-date-in"),s=document.getElementById("Tform-priority-select"),i=document.getElementById("Tform-complete-in"),c=document.getElementById("modal"),d=document.getElementById("Tform-delete-icon"),u=document.getElementById("Tform-btn-submit-form"),m=document.getElementById("navbar-hidden-checkbox"),p=document.getElementById("Pform-for-project-creation-in"),E=document.getElementById("Pform-for-project-creation"),g=document.getElementById("Pform-plus-icon"),v=document.getElementById("btn-delete-complete-tasks");function f(){!function(){if(null==p.value||""===p.value)return;const e=new x(`${p.value}`);L=e.id,A.push(e)}(),t.innerHTML="",e.innerHTML="",A.forEach((t=>{let n=A.indexOf(t);const r=document.createElement("div"),a=document.createElement("select");A[n].tasksArray.forEach((e=>{const t=document.createElement("option");t.textContent=`${e.title} ${e.dueDate}`,a.appendChild(t)})),r.dataset.id=A[n].id,r.textContent=`${A[n].title}`,r.setAttribute("class","navbar-projects"),A[n].id===L&&r.classList.add("current");const o=document.createElement("span");o.textContent="delete",o.setAttribute("class","material-icons"),r.appendChild(o),r.appendChild(a),e.appendChild(r),o.addEventListener("click",(n=>{if(n.target.parentElement.dataset.id==L)if(null!=n.target.parentElement.nextSibling)n.target.parentElement.nextSibling.classList.add("current"),L=n.target.parentElement.nextSibling.dataset.id,S();else{if(1==A.length)return e.removeChild(n.target.parentElement),A.splice(A.indexOf(t),1),y(),void S();n.target.parentElement.previousSibling.classList.add("current"),L=n.target.parentElement.previousSibling.dataset.id}A.splice(A.indexOf(t),1),e.removeChild(n.target.parentElement),y(),S()}))})),p.value="",S()}function y(){t.innerHTML="";const e=A.find((e=>e.id===L));null!=e&&(e.tasksArray.forEach((n=>{let r=e.tasksArray.indexOf(n);const a=document.createElement("div"),o=document.createElement("span"),l=document.createElement("p"),s=document.createElement("input"),i=document.createElement("p"),c=document.createElement("textarea"),d=document.createElement("p"),u=document.createElement("input"),m=document.createElement("p"),p=document.createElement("select"),E=document.createElement("option"),g=document.createElement("option"),v=document.createElement("option"),f=document.createElement("p"),y=document.createElement("input");a.setAttribute("data-key",`${r}`),s.setAttribute("class","task-title-in"),c.setAttribute("class","task-desc-in"),u.setAttribute("class","task-date-in"),p.setAttribute("class","task-prio-in"),y.setAttribute("class","task-complete-in"),a.style.backgroundColor=e.tasksArray[r].color,a.setAttribute("class","task-containers"),o.setAttribute("id","delete-task-btn"),o.setAttribute("class","material-icons"),o.textContent="delete",o.addEventListener("click",(r=>{e.tasksArray.splice(e.tasksArray.indexOf(n),1),t.removeChild(r.target.parentElement),S(),location.reload()})),l.textContent="Title ",s.value=`${e.tasksArray[r].title}`,i.textContent="Description ",c.value=`${e.tasksArray[r].description}`,d.textContent="DueDate ",u.setAttribute("type","date"),u.value=`${e.tasksArray[r].dueDate}`,m.textContent="Priority",E.setAttribute("value","high"),g.setAttribute("value","medium"),v.setAttribute("value","low"),E.textContent="High",g.textContent="Medium",v.textContent="Low",f.textContent="Complete?",y.setAttribute("type","checkbox"),"true"==e.tasksArray[r].complete?e.tasksArray[r].complete=!0:"false"==e.tasksArray[r].complete&&(e.tasksArray[r].complete=!1),y.checked=e.tasksArray[r].complete,a.appendChild(o),a.appendChild(l),l.appendChild(s),a.appendChild(i),i.appendChild(c),a.appendChild(d),d.appendChild(u),p.appendChild(E),p.appendChild(g),p.appendChild(v),p.value=`${e.tasksArray[r].priority}`,m.appendChild(p),a.appendChild(m),a.appendChild(f),f.appendChild(y),t.appendChild(a),"high"==p.value?p.style.color="red":"medium"==p.value?p.style.color="orangered":p.style.color="green",1==e.tasksArray[r].complete?a.classList.add("complete"):a.classList.remove("complete"),B()})),S())}const h=n(365),k="project.id",b="current.project.id";let A=JSON.parse(localStorage.getItem(k))||[],L=localStorage.getItem(b);class x{constructor(e){this.title=e,this.id=Date.now().toString(),this.tasksArray=[]}}class C{constructor(e,t,n,r,a,o){this.title=e,this.description=t,this.dueDate=n,this.priority=r,this.complete=a,this.color=o}}function I(){let e=h();const t=A.find((e=>e.id===L)),n=new C(`${a.value}`,`${o.value}`,`${l.value}`,`${s.value}`,`${i.checked}`,`${e}`);t.tasksArray.push(n)}function S(){localStorage.setItem(k,JSON.stringify(A)),localStorage.setItem(b,L)}function B(){const e=A.find((e=>e.id===L));document.querySelectorAll(".task-title-in").forEach((t=>{t.addEventListener("change",(n=>{e.tasksArray[t.parentElement.parentElement.dataset.key].title=n.target.value,S()}))})),document.querySelectorAll(".task-desc-in").forEach((t=>{t.addEventListener("change",(n=>{e.tasksArray[t.parentElement.parentElement.dataset.key].description=n.target.value,S()}))})),document.querySelectorAll(".task-date-in").forEach((t=>{t.addEventListener("change",(n=>{e.tasksArray[t.parentElement.parentElement.dataset.key].dueDate=n.target.value,S()}))})),document.querySelectorAll(".task-prio-in").forEach((t=>{t.addEventListener("change",(n=>{e.tasksArray[t.parentElement.parentElement.dataset.key].priority=n.target.value,"high"==t.value?t.style.color="red":"medium"==t.value?t.style.color="orangered":t.style.color="green",S()}))})),document.querySelectorAll(".task-complete-in").forEach((t=>{t.addEventListener("change",(n=>{e.tasksArray[t.parentElement.parentElement.dataset.key].complete=n.target.checked,1==t.checked?t.parentElement.parentElement.classList.add("complete"):t.parentElement.parentElement.classList.remove("complete"),S()}))}))}window.addEventListener("keyup",(e=>{"open"==c.className.toString()&&"textarea"!==e.target.tagName.toLowerCase()&&"Enter"==e.key&&(I(),f(),y(),c.classList.remove("open"))})),v.addEventListener("click",(function(){const e=A.find((e=>e.id===L));null!=e&&(e.tasksArray=e.tasksArray.filter((e=>!e.complete)),S(),y())})),document.getElementById("add-task-plus-icon").addEventListener("click",(()=>{if(document.getElementById("modal").classList.toggle("open"),0==A.length){""!=p.value&&(p.value="");const e=new x("Default");A.push(e),L=e.id,f()}})),d.addEventListener("click",(()=>{c.classList.remove("open")})),u.addEventListener("click",(()=>{I(),f(),y(),c.classList.remove("open")})),e.addEventListener("click",(function(e){if("div"==e.target.tagName.toLowerCase())L=e.target.dataset.id,e.target.classList.toggle("current"),m.checked=!1;else{if("option"!=e.target.tagName.toLowerCase())return;L=e.target.parentElement.parentElement.dataset.id,e.target.parentElement.parentElement.classList.toggle("current"),m.checked=!1}f(),y()})),c.addEventListener("click",(e=>{e.target.classList.contains("open")&&c.classList.remove("open")})),g.addEventListener("click",(()=>{null!=p.value&&""!==p.value&&f()})),E.addEventListener("submit",(()=>{null!=p.value&&""!==p.value&&f()})),document.body.onload=(()=>{let e=document.getElementById("add-task-text");setInterval((()=>{e.classList.add("on"),setTimeout((()=>{e.classList.remove("on")}),1e3)}),5e3)})(),f(),y()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFQyxPQUFPdUQsUUFBUUMsY0FDaEJsRixFQUFtQnlCLEVBQUVDLE9BQU9QLFFBQVFsQixHQUNwQ3dCLEVBQUVDLE9BQU9MLFVBQVVpRSxPQUFPLFdBQzFCOUYsRUFBcUJpRSxTQUFVLE1BRTlCLElBQXFDLFVBQWxDaEMsRUFBRUMsT0FBT3VELFFBQVFDLGNBS3BCLE9BSkRsRixFQUFtQnlCLEVBQUVDLE9BQU9DLGNBQWNBLGNBQWNSLFFBQVFsQixHQUNoRXdCLEVBQUVDLE9BQU9DLGNBQWNBLGNBQWNOLFVBQVVpRSxPQUFPLFdBQ3REOUYsRUFBcUJpRSxTQUFVLEVBR25DNUQsSUFDQW1DLE9BSUozQyxFQUFNbUMsaUJBQWlCLFNBQVVDLElBQzFCQSxFQUFFQyxPQUFPTCxVQUFVbUUsU0FBUyxTQUMzQm5HLEVBQU1nQyxVQUFVc0MsT0FBTyxXQUkvQmhFLEVBQWM2QixpQkFBaUIsU0FBUyxLQUNMLE1BQTVCL0IsRUFBbUIxRSxPQUE4QyxLQUE3QjBFLEVBQW1CMUUsT0FDMUQ4RSxPQUVKSCxFQUF3QjhCLGlCQUFpQixVQUFVLEtBQ2hCLE1BQTVCL0IsRUFBbUIxRSxPQUE4QyxLQUE3QjBFLEVBQW1CMUUsT0FDMUQ4RSxPQUdKaEIsU0FBUzRHLEtBQUtDLE9BQVEsTUFDbEIsSUFBSUMsRUFBZTlHLFNBQVNDLGVBQWUsaUJBQzNDOEcsYUFBWSxLQUNSRCxFQUFZdEUsVUFBVUMsSUFBSSxNQUMxQnVFLFlBQVcsS0FDUEYsRUFBWXRFLFVBQVVzQyxPQUFPLFFBRS9CLE9BQ0osTUFSZ0IsR0FtRTFCOUQsSUFDQW1DLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vMTEtLS1wcm9qZWN0LS0tdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvcmNvbG9yL2Rpc3QvcmNvbG9yLmpzIiwid2VicGFjazovL28xMS0tLXByb2plY3QtLS10b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vMTEtLS1wcm9qZWN0LS0tdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL28xMS0tLXByb2plY3QtLS10b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL28xMS0tLXByb2plY3QtLS10b2RvbGlzdC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vbzExLS0tcHJvamVjdC0tLXRvZG9saXN0Ly4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly9vMTEtLS1wcm9qZWN0LS0tdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG5cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcblxuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChoLCBzLCB2KSB7XG4gIHZhciBoaSA9IE1hdGguZmxvb3IoaCAqIDYpO1xuICB2YXIgZiA9IGggKiA2IC0gaGk7XG4gIHZhciBwID0gdiAqICgxIC0gcyk7XG4gIHZhciBxID0gdiAqICgxIC0gZiAqIHMpO1xuICB2YXIgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKTtcbiAgdmFyIHIgPSAyNTU7XG4gIHZhciBnID0gMjU1O1xuICB2YXIgYiA9IDI1NTtcblxuICBzd2l0Y2ggKGhpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgciA9IHY7XG4gICAgICBnID0gdDtcbiAgICAgIGIgPSBwO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgciA9IHE7XG4gICAgICBnID0gdjtcbiAgICAgIGIgPSBwO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgciA9IHA7XG4gICAgICBnID0gdjtcbiAgICAgIGIgPSB0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgciA9IHA7XG4gICAgICBnID0gcTtcbiAgICAgIGIgPSB2O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgciA9IHQ7XG4gICAgICBnID0gcDtcbiAgICAgIGIgPSB2O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA1OlxuICAgICAgciA9IHY7XG4gICAgICBnID0gcDtcbiAgICAgIGIgPSBxO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIFtNYXRoLmZsb29yKHIgKiAyNTUpLCBNYXRoLmZsb29yKGcgKiAyNTUpLCBNYXRoLmZsb29yKGIgKiAyNTUpXTtcbn07XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgcGFkSGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocmdiKSB7XG4gIHZhciBwYXJ0cyA9IHJnYi5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBwYWRIZXgodmFsLnRvU3RyaW5nKDE2KSk7XG4gIH0pLmpvaW4oJycpO1xuXG4gIHJldHVybiAnIycgKyBwYXJ0cztcbn07XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaGV4V2lkdGggPSAyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgaWYgKHN0ci5sZW5ndGggPiBoZXhXaWR0aCkgcmV0dXJuIHN0cjtcbiAgcmV0dXJuIG5ldyBBcnJheShoZXhXaWR0aCAtIHN0ci5sZW5ndGggKyAxKS5qb2luKCcwJykgKyBzdHI7XG59O1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGhzdlRvUmdiID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciByZ2JUb0hleCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgZ29sZGVuUmF0aW8gPSAwLjYxODAzMzk4ODc0OTg5NTtcblxudmFyIHJhbmRvbVNlZWQgPSB2b2lkIDA7XG5cbnNlZWRSYW5kb20oKTtcblxuZnVuY3Rpb24gc2VlZFJhbmRvbSgpIHtcbiAgcmFuZG9tU2VlZCA9IE1hdGgucmFuZG9tKCk7XG59XG5cbmZ1bmN0aW9uIGdldFJnYigpIHtcbiAgdmFyIGlucHV0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBodWUgPSBpbnB1dHMuaHVlLFxuICAgICAgc2F0dXJhdGlvbiA9IGlucHV0cy5zYXR1cmF0aW9uLFxuICAgICAgdmFsdWUgPSBpbnB1dHMudmFsdWU7XG5cbiAgaWYgKHR5cGVvZiBodWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmFuZG9tU2VlZCArPSBnb2xkZW5SYXRpbztcbiAgICByYW5kb21TZWVkICU9IDE7XG4gICAgaHVlID0gcmFuZG9tU2VlZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2F0dXJhdGlvbiAhPT0gJ251bWJlcicpIHNhdHVyYXRpb24gPSAwLjU7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB2YWx1ZSA9IDAuOTU7XG5cbiAgcmV0dXJuIGhzdlRvUmdiKGh1ZSwgc2F0dXJhdGlvbiwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBnZXRIZXgob3B0cywgaW5wdXRzKSB7XG4gIHZhciByZ2IgPSBnZXRSZ2Iob3B0cywgaW5wdXRzKTtcbiAgcmV0dXJuIHJnYlRvSGV4KHJnYik7XG59XG5cbmdldEhleC5yZVNlZWQgPSBzZWVkUmFuZG9tO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEhleDtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgcHJvamVjdENvbnN0cnVjdG9yLCBwcm9qZWN0c0FycmF5LCByZW1lbWJlclByb2plY3RzLCBjdXJyZW50UHJvamVjdElkIH0gZnJvbSAnLi9hcHAuanMnXG5pbXBvcnQgeyBsaXN0ZW5PblRhc2tDaGFuZ2UgfSBmcm9tICcuL2luZGV4LmpzJ1xuXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2YmFyJylcbmNvbnN0IGN1cnJlbnRQcm9qZWN0VGFza3NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC1wcm9qZWN0LXRhc2tzLWNvbnRhaW5lcicpXG5cbi8vIERPTSBlbGVtZW50cyBmb3IgVGFzayBDcmVhdGlvbiBGb3JtXG5jb25zdCB0aXRsZUlucHV0RnJvbVRmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Rmb3JtLXRpdGxlLWluJylcbmNvbnN0IGRlc2NJbnB1dEZyb21UZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUZm9ybS1kZXNjcmlwdGlvbi1pbicpXG5jb25zdCBkYXRlSW5wdXRGcm9tVGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVGZvcm0tZGF0ZS1pbicpXG5jb25zdCBzZWxlY3RQcmlvcml0eUZyb21UZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUZm9ybS1wcmlvcml0eS1zZWxlY3QnKVxuY29uc3QgY2hlY2tDb21wbGV0ZUZyb21UZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUZm9ybS1jb21wbGV0ZS1pbicpXG5jb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpXG5jb25zdCBkZWxldGVCdG5JY29uVGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVGZvcm0tZGVsZXRlLWljb24nKTtcbmNvbnN0IHN1Ym1pdEJ0blRmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Rmb3JtLWJ0bi1zdWJtaXQtZm9ybScpO1xuXG5cbmNvbnN0IG5hdmJhckhpZGRlbkNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhci1oaWRkZW4tY2hlY2tib3gnKVxuY29uc3QgbmFtZUlucHV0RnJvbVBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Bmb3JtLWZvci1wcm9qZWN0LWNyZWF0aW9uLWluJylcbmNvbnN0IFBmb3JtRm9yUHJvamVjdENyZWF0aW9uID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQZm9ybS1mb3ItcHJvamVjdC1jcmVhdGlvbicpO1xuY29uc3QgcGx1c0ljb25QZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQZm9ybS1wbHVzLWljb24nKVxuY29uc3QgYnRuRGVsZXRlQ29tcGxldGVkVGFza3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWRlbGV0ZS1jb21wbGV0ZS10YXNrcycpXG5cblxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0KCl7XG4gICAgcHJvamVjdENvbnN0cnVjdG9yKCk7XG4gICAgcmVuZGVyUHJvamVjdCgpO1xuICAgIG5hbWVJbnB1dEZyb21QZm9ybS52YWx1ZSA9ICcnO1xuICAgIHJlbWVtYmVyUHJvamVjdHMoKVxufVxuXG4vLyByZW5kZXIgdGhlIFByb2plY3QgdG9nZXRoZXIgd2l0aCBpdHMgdGFza3NcbmZ1bmN0aW9uIHJlbmRlclByb2plY3QoKXtcbiAgICBjdXJyZW50UHJvamVjdFRhc2tzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnXG4gICAgbmF2YmFyLmlubmVySFRNTCA9ICcnXG4gICAgcHJvamVjdHNBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT57XG5cbiAgICAgICAgLy8gUG9zaXRpb24gb2YgQ3VycmVudCBQcm9qZWN0IGluc2lkZSB0aGUgQXJyYXlcbiAgICAgICAgbGV0IGkgPSBwcm9qZWN0c0FycmF5LmluZGV4T2YoZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgbmF2YmFyUHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGNvbnN0IHNlbGVjdEZyb21OYXZiYXJQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG5cbiAgICAgICAgcHJvamVjdHNBcnJheVtpXS50YXNrc0FycmF5LmZvckVhY2godGFzayA9PntcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkZyb21OYXZiYXJQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgICAgIG9wdGlvbkZyb21OYXZiYXJQcm9qZWN0LnRleHRDb250ZW50ID0gYCR7dGFzay50aXRsZX1gICsgJyAnICsgYCR7dGFzay5kdWVEYXRlfWBcbiAgICAgICAgICAgIHNlbGVjdEZyb21OYXZiYXJQcm9qZWN0LmFwcGVuZENoaWxkKG9wdGlvbkZyb21OYXZiYXJQcm9qZWN0KVxuXG4gICAgICAgIH0pXG4gICAgICAgIG5hdmJhclByb2plY3RDb250YWluZXIuZGF0YXNldC5pZCA9IHByb2plY3RzQXJyYXlbaV0uaWRcbiAgICAgICAgbmF2YmFyUHJvamVjdENvbnRhaW5lci50ZXh0Q29udGVudCA9IGAke3Byb2plY3RzQXJyYXlbaV0udGl0bGV9YFxuICAgICAgICBuYXZiYXJQcm9qZWN0Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbmF2YmFyLXByb2plY3RzJylcbiAgICAgICAgaWYocHJvamVjdHNBcnJheVtpXS5pZCA9PT0gY3VycmVudFByb2plY3RJZCkgbmF2YmFyUHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcbiAgICAgICAgY29uc3QgaWNvbkRlbGV0ZU5hdmJhclByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgaWNvbkRlbGV0ZU5hdmJhclByb2plY3RDb250YWluZXIudGV4dENvbnRlbnQgPSAnZGVsZXRlJ1xuICAgICAgICBpY29uRGVsZXRlTmF2YmFyUHJvamVjdENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ21hdGVyaWFsLWljb25zJylcbiAgICAgICAgXG5cblxuICAgICAgICBuYXZiYXJQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb25EZWxldGVOYXZiYXJQcm9qZWN0Q29udGFpbmVyKTsgICBcbiAgICAgICAgbmF2YmFyUHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxlY3RGcm9tTmF2YmFyUHJvamVjdCk7XG4gICAgICAgIG5hdmJhci5hcHBlbmRDaGlsZChuYXZiYXJQcm9qZWN0Q29udGFpbmVyKVxuICAgICAgICBcbiAgICAgICAgaWNvbkRlbGV0ZU5hdmJhclByb2plY3RDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PntcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvYmplY3QgZnJvbSBhcnJheSwgZGVsZXRlIHRoZSBET00gZWxlbWVudCBhbmQgXG4gICAgICAgICAgICAvLyBhc3NpZ24gdGhlIGN1cnJlbnRQcm9qZWN0SWQgdG8gXG4gICAgICAgICAgICAvLyBlaXRoZXIgdGhlIHByZXZpb3VzIG9yIG5leHQgc2libGluZyBkZXBlbmRpbmcgd2hlcmUgZXZlbnQgd2FzIHRyaWdnZXJlZCBmcm9tXG4gICAgICAgICAgICBpZihlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWQgPT0gY3VycmVudFByb2plY3RJZCl7XG4gICAgICAgICAgICAgICAgaWYoZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0U2libGluZyAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5uZXh0U2libGluZy5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JykgXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0SWQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50Lm5leHRTaWJsaW5nLmRhdGFzZXQuaWRcbiAgICAgICAgICAgICAgICAgICAgcmVtZW1iZXJQcm9qZWN0cygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIHByb2plY3QgXG4gICAgICAgICAgICAgICAgICAgIGlmKHByb2plY3RzQXJyYXkubGVuZ3RoID09IDEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF2YmFyLnJlbW92ZUNoaWxkKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0FycmF5LnNwbGljZShwcm9qZWN0c0FycmF5LmluZGV4T2YoZWxlbWVudCksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJUYXNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWVtYmVyUHJvamVjdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5wcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpXG4gICAgICAgICAgICAgICAgY3VycmVudFByb2plY3RJZCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNTaWJsaW5nLmRhdGFzZXQuaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGUgZXZlbnQudGFyZ2V0IGlzIG5vdCB0aGUgY3VycmVudFByb2plY3RJZFxuICAgICAgICAgICAgcHJvamVjdHNBcnJheS5zcGxpY2UocHJvamVjdHNBcnJheS5pbmRleE9mKGVsZW1lbnQpLCAxKVxuICAgICAgICAgICAgbmF2YmFyLnJlbW92ZUNoaWxkKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpXG4gICAgICAgICAgICByZW5kZXJUYXNrKClcbiAgICAgICAgICAgIHJlbWVtYmVyUHJvamVjdHMoKVxuICAgICAgICB9KTtcbiAgICB9KVxufVxuXG5cbmZ1bmN0aW9uIHJlbmRlclRhc2soKXtcblxuICAgIGN1cnJlbnRQcm9qZWN0VGFza3NDb250YWluZXIuaW5uZXJIVE1MID0gJydcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RzQXJyYXkuZmluZChlbGVtZW50PT57XG4gICAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBjdXJyZW50UHJvamVjdElkXG4gICAgfSlcbiAgICBpZihjdXJyZW50UHJvamVjdCA9PSBudWxsKSByZXR1cm5cbiAgICBjdXJyZW50UHJvamVjdC50YXNrc0FycmF5LmZvckVhY2goZWxlbWVudD0+e1xuICAgIFxuICAgIC8vIEN1cnJlbnQgVGFzayBQb3NpdGlvbiBpbiBBcnJheVxuICAgIGxldCBpID0gY3VycmVudFByb2plY3QudGFza3NBcnJheS5pbmRleE9mKGVsZW1lbnQpXG4gICAgXG4gICAgXG4gICAgXG4gICAgXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGJ0bkRlbGV0ZVRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgY29uc3QgdGFza1RpdGxlUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrVGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3QgdGFza0Rlc2NQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tEZXNjSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIGNvbnN0IHRhc2tEYXRlUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrRGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCB0YXNrUHJpb1BhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGFza1ByaW9TZWxlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICBjb25zdCB0YXNrUHJpb09wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgIGNvbnN0IHRhc2tQcmlvT3B0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgY29uc3QgdGFza1ByaW9PcHRpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICBjb25zdCB0YXNrQ29tcGxldGVQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tDb21wbGV0ZUNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBcblxuICAgIHRhc2suc2V0QXR0cmlidXRlKCdkYXRhLWtleScsIGAke2l9YClcbiAgICB0YXNrVGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Rhc2stdGl0bGUtaW4nKVxuICAgIHRhc2tEZXNjSW5wdXQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0YXNrLWRlc2MtaW4nKVxuICAgIHRhc2tEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0YXNrLWRhdGUtaW4nKVxuICAgIHRhc2tQcmlvU2VsZWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGFzay1wcmlvLWluJylcbiAgICB0YXNrQ29tcGxldGVDaGVjay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Rhc2stY29tcGxldGUtaW4nKVxuICAgIHRhc2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VycmVudFByb2plY3QudGFza3NBcnJheVtpXS5jb2xvclxuICAgIHRhc2suc2V0QXR0cmlidXRlKCdjbGFzcycsICd0YXNrLWNvbnRhaW5lcnMnKTtcbiAgICBidG5EZWxldGVUYXNrLnNldEF0dHJpYnV0ZSgnaWQnLCAnZGVsZXRlLXRhc2stYnRuJylcbiAgICBidG5EZWxldGVUYXNrLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbWF0ZXJpYWwtaWNvbnMnKVxuICAgIGJ0bkRlbGV0ZVRhc2sudGV4dENvbnRlbnQgPSAnZGVsZXRlJztcbiAgICBidG5EZWxldGVUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57XG4gICAgICAgIGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXkuc3BsaWNlKGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXkuaW5kZXhPZihlbGVtZW50KSwxKVxuICAgICAgICBjdXJyZW50UHJvamVjdFRhc2tzQ29udGFpbmVyLnJlbW92ZUNoaWxkKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpXG4gICAgICAgIHJlbWVtYmVyUHJvamVjdHMoKVxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgIH0pO1xuICAgIHRhc2tUaXRsZVBhcmEudGV4dENvbnRlbnQgPSAnVGl0bGUgJ1xuICAgIHRhc2tUaXRsZUlucHV0LnZhbHVlID0gYCR7Y3VycmVudFByb2plY3QudGFza3NBcnJheVtpXS50aXRsZX1gXG4gICAgdGFza0Rlc2NQYXJhLnRleHRDb250ZW50ID0gJ0Rlc2NyaXB0aW9uICdcbiAgICB0YXNrRGVzY0lucHV0LnZhbHVlID0gYCR7Y3VycmVudFByb2plY3QudGFza3NBcnJheVtpXS5kZXNjcmlwdGlvbn1gXG4gICAgdGFza0RhdGVQYXJhLnRleHRDb250ZW50ID0gJ0R1ZURhdGUgJ1xuICAgIHRhc2tEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKVxuICAgIHRhc2tEYXRlSW5wdXQudmFsdWUgPSBgJHtjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2ldLmR1ZURhdGV9YFxuICAgIHRhc2tQcmlvUGFyYS50ZXh0Q29udGVudCA9ICdQcmlvcml0eSdcbiAgICB0YXNrUHJpb09wdGlvbjEuc2V0QXR0cmlidXRlKCd2YWx1ZScsICdoaWdoJylcbiAgICB0YXNrUHJpb09wdGlvbjIuc2V0QXR0cmlidXRlKCd2YWx1ZScsICdtZWRpdW0nKVxuICAgIHRhc2tQcmlvT3B0aW9uMy5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJ2xvdycpXG4gICAgdGFza1ByaW9PcHRpb24xLnRleHRDb250ZW50ID0gJ0hpZ2gnXG4gICAgdGFza1ByaW9PcHRpb24yLnRleHRDb250ZW50ID0gJ01lZGl1bSdcbiAgICB0YXNrUHJpb09wdGlvbjMudGV4dENvbnRlbnQgPSAnTG93J1xuICAgIHRhc2tDb21wbGV0ZVBhcmEudGV4dENvbnRlbnQgPSAnQ29tcGxldGU/J1xuICAgIHRhc2tDb21wbGV0ZUNoZWNrLnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpXG4gICAgXG4gICAgLy8gcmV0dXJucyBib29sZWFuIGluc3RlYWQgb2Ygc3RyaW5nXG4gICAgICAgIGlmKGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXlbaV0uY29tcGxldGUgPT0gXCJ0cnVlXCIpe1xuICAgICAgICBjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2ldLmNvbXBsZXRlID0gdHJ1ZVxuICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2ldLmNvbXBsZXRlID09IFwiZmFsc2VcIil7XG4gICAgICAgIGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXlbaV0uY29tcGxldGUgID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIFxuICAgIFxuICAgIHRhc2tDb21wbGV0ZUNoZWNrLmNoZWNrZWQgPSBjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2ldLmNvbXBsZXRlXG4gICAgXG4gICAgXG4gICAgdGFzay5hcHBlbmRDaGlsZChidG5EZWxldGVUYXNrKVxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza1RpdGxlUGFyYSlcbiAgICB0YXNrVGl0bGVQYXJhLmFwcGVuZENoaWxkKHRhc2tUaXRsZUlucHV0KVxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0Rlc2NQYXJhKVxuICAgIHRhc2tEZXNjUGFyYS5hcHBlbmRDaGlsZCh0YXNrRGVzY0lucHV0KVxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0RhdGVQYXJhKVxuICAgIHRhc2tEYXRlUGFyYS5hcHBlbmRDaGlsZCh0YXNrRGF0ZUlucHV0KVxuICAgIHRhc2tQcmlvU2VsZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tQcmlvT3B0aW9uMSlcbiAgICB0YXNrUHJpb1NlbGVjdGlvbi5hcHBlbmRDaGlsZCh0YXNrUHJpb09wdGlvbjIpXG4gICAgdGFza1ByaW9TZWxlY3Rpb24uYXBwZW5kQ2hpbGQodGFza1ByaW9PcHRpb24zKVxuICAgIHRhc2tQcmlvU2VsZWN0aW9uLnZhbHVlID0gYCR7Y3VycmVudFByb2plY3QudGFza3NBcnJheVtpXS5wcmlvcml0eX1gXG4gICAgdGFza1ByaW9QYXJhLmFwcGVuZENoaWxkKHRhc2tQcmlvU2VsZWN0aW9uKVxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza1ByaW9QYXJhKVxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0NvbXBsZXRlUGFyYSlcbiAgICB0YXNrQ29tcGxldGVQYXJhLmFwcGVuZENoaWxkKHRhc2tDb21wbGV0ZUNoZWNrKVxuICAgIGN1cnJlbnRQcm9qZWN0VGFza3NDb250YWluZXIuYXBwZW5kQ2hpbGQodGFzaylcblxuICAgIFxuICAgIGlmKHRhc2tQcmlvU2VsZWN0aW9uLnZhbHVlID09ICdoaWdoJykgdGFza1ByaW9TZWxlY3Rpb24uc3R5bGUuY29sb3IgPSAncmVkJ1xuICAgIGVsc2UgaWYodGFza1ByaW9TZWxlY3Rpb24udmFsdWUgPT0gJ21lZGl1bScpIHRhc2tQcmlvU2VsZWN0aW9uLnN0eWxlLmNvbG9yID0gJ29yYW5nZXJlZCdcbiAgICBlbHNlIHRhc2tQcmlvU2VsZWN0aW9uLnN0eWxlLmNvbG9yID0gJ2dyZWVuJ1xuICAgIGlmKGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXlbaV0uY29tcGxldGUgPT0gdHJ1ZSkge1xuICAgICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlJylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhc2suY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGUnKVxuICAgIH1cbiAgICBsaXN0ZW5PblRhc2tDaGFuZ2UoKVxufSlcbnJlbWVtYmVyUHJvamVjdHMoKVxufVxuXG5cblxuXG5leHBvcnQge2J0bkRlbGV0ZUNvbXBsZXRlZFRhc2tzLCBtb2RhbCwgbmF2YmFySGlkZGVuQ2hlY2tib3gsIHBsdXNJY29uUGZvcm0sIFBmb3JtRm9yUHJvamVjdENyZWF0aW9uLCBkZWxldGVCdG5JY29uVGZvcm0sIHN1Ym1pdEJ0blRmb3JtLCAgbmFtZUlucHV0RnJvbVBmb3JtLCB0aXRsZUlucHV0RnJvbVRmb3JtLCBkZXNjSW5wdXRGcm9tVGZvcm0sIGRhdGVJbnB1dEZyb21UZm9ybSwgbmF2YmFyLCAgY2hlY2tDb21wbGV0ZUZyb21UZm9ybSwgc2VsZWN0UHJpb3JpdHlGcm9tVGZvcm0sIHJlbmRlclRhc2ssIGNyZWF0ZVByb2plY3QsIGN1cnJlbnRQcm9qZWN0VGFza3NDb250YWluZXIsIGxpc3Rlbk9uVGFza0NoYW5nZX0iLCJpbXBvcnQgeyBkZXNjSW5wdXRGcm9tVGZvcm0sIHRpdGxlSW5wdXRGcm9tVGZvcm0sIGRhdGVJbnB1dEZyb21UZm9ybSwgY2hlY2tDb21wbGV0ZUZyb21UZm9ybSwgc2VsZWN0UHJpb3JpdHlGcm9tVGZvcm0sIG5hbWVJbnB1dEZyb21QZm9ybSwgcmVuZGVyVGFza30gZnJvbSBcIi4vZG9tXCI7XG5jb25zdCByY29sb3IgPSByZXF1aXJlKCdyY29sb3InKVxuXG4vLyBjcmVhdGVzIHZhcmlhYmxlcyB0aGF0IHdpbGwgYmUgdXNlZCBpbiBzdG9yYWdlXG5jb25zdCBQUk9KRUNUX0lEID0gJ3Byb2plY3QuaWQnO1xuY29uc3QgQ1VSUkVOVF9QUk9KRUNUID0gJ2N1cnJlbnQucHJvamVjdC5pZCc7XG5sZXQgcHJvamVjdHNBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oUFJPSkVDVF9JRCkpIHx8IFtdO1xubGV0IGN1cnJlbnRQcm9qZWN0SWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDVVJSRU5UX1BST0pFQ1QpXG5cblxuXG5jbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSl7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5pZCA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy50YXNrc0FycmF5ID0gW11cbiAgICB9XG59XG5cbmNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlLCBjb2xvcil7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICAgICAgdGhpcy5jb21wbGV0ZSA9IGNvbXBsZXRlXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvclxuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJvamVjdENvbnN0cnVjdG9yKCl7XG4gICAgaWYobmFtZUlucHV0RnJvbVBmb3JtLnZhbHVlID09IG51bGwgfHwgbmFtZUlucHV0RnJvbVBmb3JtLnZhbHVlID09PSAnJykgcmV0dXJuXG4gICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KGAke25hbWVJbnB1dEZyb21QZm9ybS52YWx1ZX1gKTtcbiAgICBjdXJyZW50UHJvamVjdElkID0gbmV3UHJvamVjdC5pZFxuICAgIHByb2plY3RzQXJyYXkucHVzaChuZXdQcm9qZWN0KVxufVxuXG5mdW5jdGlvbiB0YXNrQ29uc3RydWN0b3IoKXtcbiAgICBsZXQgcmFuZG9tVGFza0NvbG9yID0gcmNvbG9yKClcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RzQXJyYXkuZmluZChlbGVtZW50PT57XG4gICAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBjdXJyZW50UHJvamVjdElkXG4gICAgfSlcbiAgICBjb25zdCBuZXdUYXNrID0gbmV3IFRhc2soYCR7dGl0bGVJbnB1dEZyb21UZm9ybS52YWx1ZX1gLCBgJHtkZXNjSW5wdXRGcm9tVGZvcm0udmFsdWV9YCwgYCR7ZGF0ZUlucHV0RnJvbVRmb3JtLnZhbHVlfWAsIGAke3NlbGVjdFByaW9yaXR5RnJvbVRmb3JtLnZhbHVlfWAsIGAke2NoZWNrQ29tcGxldGVGcm9tVGZvcm0uY2hlY2tlZH1gLCBgJHtyYW5kb21UYXNrQ29sb3J9YCk7XG4gICAgY3VycmVudFByb2plY3QudGFza3NBcnJheS5wdXNoKG5ld1Rhc2spXG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUNvbXBsZXRlZFRhc2tzKCl7XG4gICAgY29uc3QgZmluZEZpbmlzaGVkID0gcHJvamVjdHNBcnJheS5maW5kKHByb2plY3QgPT4gcHJvamVjdC5pZCA9PT1jdXJyZW50UHJvamVjdElkKVxuICAgIGlmIChmaW5kRmluaXNoZWQgPT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgICBmaW5kRmluaXNoZWQudGFza3NBcnJheSA9IGZpbmRGaW5pc2hlZC50YXNrc0FycmF5LmZpbHRlcih0YXNrID0+ICF0YXNrLmNvbXBsZXRlKVxuICAgIHJlbWVtYmVyUHJvamVjdHMoKVxuICAgIHJlbmRlclRhc2soKVxufVxuXG5cbmZ1bmN0aW9uIHJlbWVtYmVyUHJvamVjdHMoKXtcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKFBST0pFQ1RfSUQsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzQXJyYXkpKVxubG9jYWxTdG9yYWdlLnNldEl0ZW0oQ1VSUkVOVF9QUk9KRUNULCBjdXJyZW50UHJvamVjdElkKVxufVxuXG5leHBvcnQgeyBQcm9qZWN0LCBwcm9qZWN0Q29uc3RydWN0b3IsIHRhc2tDb25zdHJ1Y3RvciwgIHByb2plY3RzQXJyYXksIHJlbWVtYmVyUHJvamVjdHMgLCBjdXJyZW50UHJvamVjdElkLCBkZWxldGVDb21wbGV0ZWRUYXNrcyB9IiwiaW1wb3J0IHsgcHJvamVjdHNBcnJheSwgUHJvamVjdCwgdGFza0NvbnN0cnVjdG9yLCBjdXJyZW50UHJvamVjdElkLCByZW1lbWJlclByb2plY3RzLCBkZWxldGVDb21wbGV0ZWRUYXNrcyB9IGZyb20gJy4vYXBwJztcbmltcG9ydCB7IGJ0bkRlbGV0ZUNvbXBsZXRlZFRhc2tzLCBtb2RhbCwgY3JlYXRlUHJvamVjdCwgbmFtZUlucHV0RnJvbVBmb3JtLCByZW5kZXJUYXNrLCBkZWxldGVCdG5JY29uVGZvcm0sIHN1Ym1pdEJ0blRmb3JtLCBuYXZiYXIsIG5hdmJhckhpZGRlbkNoZWNrYm94LCBwbHVzSWNvblBmb3JtLCBQZm9ybUZvclByb2plY3RDcmVhdGlvbiB9IGZyb20gJy4vZG9tJ1xuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKT0+e1xuICAgIGlmKG1vZGFsLmNsYXNzTmFtZS50b1N0cmluZygpID09ICdvcGVuJylcbiAgICBpZiAoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dGFyZWEnKXsgICAgXG4gICAgICAgIGlmKGUua2V5ID09ICdFbnRlcicpe1xuICAgICAgICAgICAgdGFza0NvbnN0cnVjdG9yKCk7XG4gICAgICAgICAgICBjcmVhdGVQcm9qZWN0KClcbiAgICAgICAgICAgIHJlbmRlclRhc2soKVxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5cbmJ0bkRlbGV0ZUNvbXBsZXRlZFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQ29tcGxldGVkVGFza3MpXG5cblxuY29uc3QgYnRuQWRkVGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdGFzay1wbHVzLWljb24nKTtcbiAgICBidG5BZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwnKVxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJylcbiAgICAgICAgaWYocHJvamVjdHNBcnJheS5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICBpZihuYW1lSW5wdXRGcm9tUGZvcm0udmFsdWUgIT0gJycpIG5hbWVJbnB1dEZyb21QZm9ybS52YWx1ZSA9ICcnXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UHJvamVjdCA9IG5ldyBQcm9qZWN0KGBEZWZhdWx0YClcbiAgICAgICAgICAgIHByb2plY3RzQXJyYXkucHVzaChkZWZhdWx0UHJvamVjdClcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0SWQgPSBkZWZhdWx0UHJvamVjdC5pZFxuICAgICAgICAgICAgY3JlYXRlUHJvamVjdCgpO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIGRlbGV0ZUJ0bkljb25UZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKVxuICAgIH0pO1xuICAgIFxuICAgIHN1Ym1pdEJ0blRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgdGFza0NvbnN0cnVjdG9yKCk7XG4gICAgICAgIGNyZWF0ZVByb2plY3QoKVxuICAgICAgICByZW5kZXJUYXNrKClcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXG4gICAgfSk7XG5cbiAgICBuYXZiYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2l0Y2hUb0N1cnJlbnRQcm9qZWN0KVxuXG4gICAgZnVuY3Rpb24gc3dpdGNoVG9DdXJyZW50UHJvamVjdChlKXtcbiAgICAgICAgXG4gICAgICAgIGlmKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnZGl2Jyl7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdElkID0gZS50YXJnZXQuZGF0YXNldC5pZFxuICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY3VycmVudCcpXG4gICAgICAgICAgICBuYXZiYXJIaWRkZW5DaGVja2JveC5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnb3B0aW9uJyl7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdElkID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuaWRcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjdXJyZW50JylcbiAgICAgICAgICAgIG5hdmJhckhpZGRlbkNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgcmV0dXJuXG4gICAgICAgIGNyZWF0ZVByb2plY3QoKVxuICAgICAgICByZW5kZXJUYXNrKClcbiAgICBcbiAgICB9XG4gICAgXG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PntcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpe1xuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHBsdXNJY29uUGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBpZihuYW1lSW5wdXRGcm9tUGZvcm0udmFsdWUgPT0gbnVsbCB8fCBuYW1lSW5wdXRGcm9tUGZvcm0udmFsdWUgPT09ICcnKSByZXR1cm5cbiAgICAgICAgY3JlYXRlUHJvamVjdCgpO1xuICAgIH0pXG4gICAgUGZvcm1Gb3JQcm9qZWN0Q3JlYXRpb24uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCk9PntcbiAgICAgICAgaWYobmFtZUlucHV0RnJvbVBmb3JtLnZhbHVlID09IG51bGwgfHwgbmFtZUlucHV0RnJvbVBmb3JtLnZhbHVlID09PSAnJykgcmV0dXJuXG4gICAgICAgIGNyZWF0ZVByb2plY3QoKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkub25sb2FkPSAoKCk9PntcbiAgICAgICAgbGV0IGFkZFRhc2tUZXh0ID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdGFzay10ZXh0JylcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgIGFkZFRhc2tUZXh0LmNsYXNzTGlzdC5hZGQoJ29uJylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICBhZGRUYXNrVGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdvbicpXG5cbiAgICAgICAgICAgIH0sMTAwMClcbiAgICAgICAgfSw1MDAwKVxuXG4gICAgfSkoKVxuXG4gICAgZnVuY3Rpb24gbGlzdGVuT25UYXNrQ2hhbmdlKCl7XG4gICAgY29uc3QgY3VycmVudFByb2plY3QgPSBwcm9qZWN0c0FycmF5LmZpbmQoZWxlbWVudD0+e1xuICAgICAgICByZXR1cm4gZWxlbWVudC5pZCA9PT0gY3VycmVudFByb2plY3RJZFxuICAgIH0pXG4gICBcbiAgICBjb25zdCBzZWxlY3RUaXRsZUluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2stdGl0bGUtaW4nKVxuICAgICAgICBzZWxlY3RUaXRsZUluLmZvckVhY2goZWxlbWVudD0+e1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKT0+e1xuICAgICAgICAgICAgY3VycmVudFByb2plY3QudGFza3NBcnJheVtlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LmtleV0udGl0bGUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgcmVtZW1iZXJQcm9qZWN0cygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pXG59KVxuICAgIGNvbnN0IHNlbGVjdERlc2NJbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrLWRlc2MtaW4nKVxuICAgICAgICBzZWxlY3REZXNjSW4uZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpPT57XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2VsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQua2V5XS5kZXNjcmlwdGlvbiA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICByZW1lbWJlclByb2plY3RzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbn0pXG4gICAgY29uc3Qgc2VsZWN0RGF0ZUluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2stZGF0ZS1pbicpXG4gICAgICAgIHNlbGVjdERhdGVJbi5mb3JFYWNoKGVsZW1lbnQ9PntcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSk9PntcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXlbZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5rZXldLmR1ZURhdGUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgcmVtZW1iZXJQcm9qZWN0cygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pXG59KVxuICAgIGNvbnN0IHNlbGVjdFByaW9JbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrLXByaW8taW4nKVxuICAgICAgICBzZWxlY3RQcmlvSW4uZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpPT57XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdC50YXNrc0FycmF5W2VsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQua2V5XS5wcmlvcml0eSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICBpZihlbGVtZW50LnZhbHVlID09ICdoaWdoJykgZWxlbWVudC5zdHlsZS5jb2xvciA9ICdyZWQnXG4gICAgICAgICAgICBlbHNlIGlmKGVsZW1lbnQudmFsdWUgPT0gJ21lZGl1bScpIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnb3JhbmdlcmVkJ1xuICAgICAgICAgICAgZWxzZSBlbGVtZW50LnN0eWxlLmNvbG9yID0gJ2dyZWVuJ1xuICAgICAgICAgICAgcmVtZW1iZXJQcm9qZWN0cygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pXG59KVxuICAgIGNvbnN0IHNlbGVjdENvbXBsZXRlSW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1jb21wbGV0ZS1pbicpXG4gICAgc2VsZWN0Q29tcGxldGVJbi5mb3JFYWNoKGVsZW1lbnQ9PntcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSk9PntcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0LnRhc2tzQXJyYXlbZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5rZXldLmNvbXBsZXRlID0gZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICAgICAgaWYoZWxlbWVudC5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1lbWJlclByb2plY3RzKClcbiAgICB9KVxufSlcbn1cblxuY3JlYXRlUHJvamVjdCgpO1xucmVuZGVyVGFzaygpO1xuXG5leHBvcnQgeyBsaXN0ZW5PblRhc2tDaGFuZ2UgfSJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJtb2R1bGVJZCIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIiwidiIsImhpIiwiTWF0aCIsImZsb29yIiwiZiIsInEiLCJ0IiwiciIsImciLCJiIiwicGFkSGV4IiwicmdiIiwibWFwIiwidmFsIiwidG9TdHJpbmciLCJqb2luIiwic3RyIiwibGVuZ3RoIiwiQXJyYXkiLCJoc3ZUb1JnYiIsInJnYlRvSGV4IiwiZ29sZGVuUmF0aW8iLCJyYW5kb21TZWVkIiwic2VlZFJhbmRvbSIsInJhbmRvbSIsImdldEhleCIsIm9wdHMiLCJpbnB1dHMiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJodWUiLCJzYXR1cmF0aW9uIiwiZ2V0UmdiIiwicmVTZWVkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvYmoiLCJwcm9wIiwibmF2YmFyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN1cnJlbnRQcm9qZWN0VGFza3NDb250YWluZXIiLCJ0aXRsZUlucHV0RnJvbVRmb3JtIiwiZGVzY0lucHV0RnJvbVRmb3JtIiwiZGF0ZUlucHV0RnJvbVRmb3JtIiwic2VsZWN0UHJpb3JpdHlGcm9tVGZvcm0iLCJjaGVja0NvbXBsZXRlRnJvbVRmb3JtIiwibW9kYWwiLCJkZWxldGVCdG5JY29uVGZvcm0iLCJzdWJtaXRCdG5UZm9ybSIsIm5hdmJhckhpZGRlbkNoZWNrYm94IiwibmFtZUlucHV0RnJvbVBmb3JtIiwiUGZvcm1Gb3JQcm9qZWN0Q3JlYXRpb24iLCJwbHVzSWNvblBmb3JtIiwiYnRuRGVsZXRlQ29tcGxldGVkVGFza3MiLCJjcmVhdGVQcm9qZWN0IiwibmV3UHJvamVjdCIsIlByb2plY3QiLCJjdXJyZW50UHJvamVjdElkIiwiaWQiLCJwcm9qZWN0c0FycmF5IiwicHVzaCIsInByb2plY3RDb25zdHJ1Y3RvciIsImlubmVySFRNTCIsImZvckVhY2giLCJlbGVtZW50IiwiaW5kZXhPZiIsIm5hdmJhclByb2plY3RDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0RnJvbU5hdmJhclByb2plY3QiLCJ0YXNrc0FycmF5IiwidGFzayIsIm9wdGlvbkZyb21OYXZiYXJQcm9qZWN0IiwidGV4dENvbnRlbnQiLCJ0aXRsZSIsImR1ZURhdGUiLCJhcHBlbmRDaGlsZCIsImRhdGFzZXQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpY29uRGVsZXRlTmF2YmFyUHJvamVjdENvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsIm5leHRTaWJsaW5nIiwicmVtZW1iZXJQcm9qZWN0cyIsInJlbW92ZUNoaWxkIiwic3BsaWNlIiwicmVuZGVyVGFzayIsInByZXZpb3VzU2libGluZyIsImN1cnJlbnRQcm9qZWN0IiwiZmluZCIsImJ0bkRlbGV0ZVRhc2siLCJ0YXNrVGl0bGVQYXJhIiwidGFza1RpdGxlSW5wdXQiLCJ0YXNrRGVzY1BhcmEiLCJ0YXNrRGVzY0lucHV0IiwidGFza0RhdGVQYXJhIiwidGFza0RhdGVJbnB1dCIsInRhc2tQcmlvUGFyYSIsInRhc2tQcmlvU2VsZWN0aW9uIiwidGFza1ByaW9PcHRpb24xIiwidGFza1ByaW9PcHRpb24yIiwidGFza1ByaW9PcHRpb24zIiwidGFza0NvbXBsZXRlUGFyYSIsInRhc2tDb21wbGV0ZUNoZWNrIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImxvY2F0aW9uIiwicmVsb2FkIiwiZGVzY3JpcHRpb24iLCJjb21wbGV0ZSIsImNoZWNrZWQiLCJwcmlvcml0eSIsInJlbW92ZSIsImxpc3Rlbk9uVGFza0NoYW5nZSIsInJjb2xvciIsIlBST0pFQ1RfSUQiLCJDVVJSRU5UX1BST0pFQ1QiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiRGF0ZSIsIm5vdyIsIlRhc2siLCJ0YXNrQ29uc3RydWN0b3IiLCJyYW5kb21UYXNrQ29sb3IiLCJuZXdUYXNrIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aW5kb3ciLCJjbGFzc05hbWUiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJmaW5kRmluaXNoZWQiLCJwcm9qZWN0IiwiZmlsdGVyIiwidG9nZ2xlIiwiZGVmYXVsdFByb2plY3QiLCJjb250YWlucyIsImJvZHkiLCJvbmxvYWQiLCJhZGRUYXNrVGV4dCIsInNldEludGVydmFsIiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=